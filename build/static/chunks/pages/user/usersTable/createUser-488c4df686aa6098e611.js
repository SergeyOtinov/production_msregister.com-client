(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{4179:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),u=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");r.Z=u},3397:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),u=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");r.Z=u},3999:function(e,r){"use strict";var t=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;r.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!t.test(e))return!1;var r=e.split("@");return!(r[0].length>64)&&!r[1].split(".").some((function(e){return e.length>63}))}},1271:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),u=t(1185),i=t.n(u),l=t(8067),o=t(6446),c=t(7666),d=t(3031),p=t(270),m=t(6867),f=t(3460),x=t(3397),h=t(4179),b=t(9062),v=t(3999),g=t(7294),Z=t(5697),_=t(2186),j=t(612),w=t(2766),z=t(5893);r.default=(0,w.Pi)((function(e){var r=e.setCreateForm,t=e.getUsers,a=e.logging,u=e.table,w=e.currentPage,C=(0,g.useContext)(j.Context).store,k=(0,g.useState)(""),S=k[0],y=k[1],E=(0,g.useState)(""),U=E[0],A=E[1],D=(0,g.useState)(""),I=D[0],N=D[1],P=(0,g.useState)(""),T=P[0],M=P[1],O=(0,g.useState)(""),L=O[0],q=O[1],B=(0,g.useState)(!1),F=B[0],V=B[1],$=(0,g.useState)(""),X=$[0],G=$[1],H=(0,g.useState)(""),J=H[0],K=H[1],Q=(0,g.useState)(""),R=Q[0],W=Q[1],Y=(0,g.useState)(""),ee=Y[0],re=Y[1],te=(0,g.useState)(!1),ne=te[0],ae=te[1];function se(){return(se=(0,n.Z)(s().mark((function e(){var n,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.from(u.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),i=Array.from(u.current.querySelectorAll("input[name='email']")).map((function(e){return e.defaultValue})),G(""),W(""),K(""),re(""),S){e.next=9;break}return G("User ID field cannot be empty!"),e.abrupt("return");case 9:if(!(S.length<6)){e.next=12;break}return G("The number of digits in the User ID must not be less than 6!"),e.abrupt("return");case 12:if(!n.includes(S)){e.next=15;break}return G("User with this ID already exists!"),e.abrupt("return");case 15:if(U){e.next=18;break}return W("Email field cannot be empty!"),e.abrupt("return");case 18:if(!U){e.next=22;break}if(v.validate(U)){e.next=22;break}return W("The email address format is incorrect!"),e.abrupt("return");case 22:if(!i.includes(U)){e.next=25;break}return W("User with this E-Mail already exists!"),e.abrupt("return");case 25:if(I){e.next=28;break}return K("Password field cannot be empty!"),e.abrupt("return");case 28:if(!(I.length<3)){e.next=31;break}return K("Password cannot be less than 3!"),e.abrupt("return");case 31:return ae(!0),e.next=34,C.createUser(S,U,I,T,L);case 34:if("string"!==typeof(l=e.sent)){e.next=37;break}return e.abrupt("return",re(l));case 37:if(l){e.next=41;break}return re("Error: Server error!"),ae(!1),e.abrupt("return");case 41:return a("Success: User with ID:".concat(l.data.userid," and E-Mail:").concat(l.data.email," has been successfully created!")),e.next=44,t(w);case 44:r(!1);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{className:i().wrapper,children:(0,z.jsxs)("form",{autoComplete:"off",className:i().form,children:[(0,z.jsx)("h2",{children:"Create User Form"}),(0,z.jsx)(l.Z,{onInput:function(e){e.target.value=e.target.value.replace(/[^\d.]/g,""),y(e.target.value)},error:!!X,inputProps:{maxLength:6},autoComplete:"userid",required:!0,name:"userid",helperText:X||"Enter user ID",sx:{marginBottom:"15px"},size:"small",label:"User ID",variant:"outlined"}),(0,z.jsx)(l.Z,{onInput:function(e){return A(e.target.value)},error:!!R,autoComplete:"email",name:"email",required:!0,helperText:R||"Enter user e-mail",sx:{marginBottom:"15px"},size:"small",label:"E-Mail",variant:"outlined"}),(0,z.jsxs)(o.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,z.jsx)(c.Z,{children:"Password"}),(0,z.jsx)(d.Z,{onInput:function(e){return N(e.target.value)},type:F?"text":"password",error:!!J,endAdornment:(0,z.jsx)(p.Z,{position:"end",children:(0,z.jsx)(m.Z,{"aria-label":"toggle password visibility",onClick:function(){return V(!F)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:F?(0,z.jsx)(Z.Z,{}):(0,z.jsx)(_.Z,{})})}),label:"Password"}),(0,z.jsx)(f.Z,{error:!!J,variant:"outlined",children:J||"Enter user password"})]}),(0,z.jsx)(l.Z,{onInput:function(e){return M(e.target.value)},autoComplete:"name",name:"name",helperText:"Enter user name",sx:{marginBottom:"15px"},size:"small",label:"Name",variant:"outlined"}),(0,z.jsx)(l.Z,{onInput:function(e){return q(e.target.value)},autoComplete:"none",name:"surname",helperText:"Enter user surname",size:"small",label:"Surname",variant:"outlined"}),(0,z.jsxs)("div",{className:i().buttons,children:[(0,z.jsx)(m.Z,{disabled:ne,size:"small",title:"Accept",onClick:function(){return se.apply(this,arguments)},children:ne?(0,z.jsx)(b.Z,{size:20,sx:{color:"#777777"}}):(0,z.jsx)(h.Z,{sx:{color:"green"}})}),(0,z.jsx)(m.Z,{size:"small",title:"Cancel",onClick:function(){return r(!1)},children:(0,z.jsx)(x.Z,{sx:{color:"red"}})})]}),ee&&(0,z.jsx)("p",{className:i().error,children:ee})]})})})}))},3081:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/usersTable/createUser",function(){return t(1271)}])},1185:function(e){e.exports={wrapper:"createUser_wrapper__1d5V0",form:"createUser_form__z7FlO",buttons:"createUser_buttons__1OsSD",error:"createUser_error__1g0cZ"}}},function(e){e.O(0,[774,888,179],(function(){return r=3081,e(e.s=r);var r}));var r=e.O();_N_E=r}]);