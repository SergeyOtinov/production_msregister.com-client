(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{4179:function(e,t,s){"use strict";var r=s(4836);t.Z=void 0;var a=r(s(4938)),n=s(5893),i=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");t.Z=i},3397:function(e,t,s){"use strict";var r=s(4836);t.Z=void 0;var a=r(s(4938)),n=s(5893),i=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");t.Z=i},6091:function(e,t,s){"use strict";var r=s(4836);t.Z=void 0;var a=r(s(4938)),n=s(5893),i=(0,a.default)((0,n.jsx)("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");t.Z=i},332:function(e,t,s){"use strict";var r=s(4836);t.Z=void 0;var a=r(s(4938)),n=s(5893),i=(0,a.default)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined");t.Z=i},4469:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/usersTable/adminSetting",function(){return s(1899)}])},1899:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(5893),a=s(5424),n=s.n(a),i=s(7294),l=s(2762),o=s(6914),u=s(7603),d=s(332),c=s(6091),m=s(3946),h=s(1163);function p(e){let{logging:t}=e,s=(0,h.useRouter)();(0,i.useEffect)(()=>{var e;j(null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.email)},[]);let a=(0,i.useRef)(null),{store:p}=(0,i.useContext)(l.Context),[x,f]=(0,i.useState)(!1),[v,w]=(0,i.useState)(""),[g,j]=(0,i.useState)(""),[_,Z]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!1);function b(){a.current.value=g,Z(!1)}async function z(){if(S(!0),confirm("Are you sure you want to change the admin mail?When you change your email you will be logged out!")){let e=await p.updateEmailAdmin(v);if(!e){Z(!1),S(!1),b(),t("Error: Server error!");return}await p.logout(),s.push("/")}S(!1)}return(0,r.jsxs)("div",{className:n().wrapper,children:[(0,r.jsx)("h3",{children:"Administrator Setting"}),(0,r.jsxs)("form",{className:n().setting,children:[(0,r.jsx)("p",{children:"E-mail administrator"}),(0,r.jsx)("input",{ref:a,name:"E-mail administrator",defaultValue:g,placeholder:"Enter E-mail",type:"email",onInput:e=>{w(e.target.value),e.target.value!==e.target.defaultValue?Z(!0):Z(!1)}}),_?(0,r.jsx)("div",{className:n().save,children:(0,r.jsx)(m.Z,{disabled:C,onClick:z,title:"Save edit",sx:{p:"5px",color:"rgb(231 14 55)"},"aria-label":"Save",children:(0,r.jsx)(d.Z,{sx:{width:"20px",height:"20px"}})})}):null,_?(0,r.jsx)("div",{className:n().save,name:"reset",children:(0,r.jsx)(m.Z,{disabled:C,onClick:b,sx:{bgcolor:"rgb(44, 44, 44)",p:"5px"},children:(0,r.jsx)(c.Z,{sx:{width:"20px",height:"20px",fill:"white"}})})}):null,(0,r.jsx)("button",{name:"password",type:"button",className:n().password,onClick:e=>void(x?f(!1):f(!0)),children:"change admin password"})]}),x&&(0,r.jsx)(o.Z,{selector:"#portal",children:(0,r.jsx)(u.default,{setAdminPasswordForm:f,logging:t})})]})}},7603:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(6766),n=s.n(a),i=s(7294),l=s(4054),o=s(3841),u=s(7058),d=s(7109),c=s(3946),m=s(6815),h=s(3397),p=s(4179),x=s(5697),f=s(2186),v=s(2762),w=s(8456);t.default=function(e){let{setAdminPasswordForm:t,logging:s}=e,[a,g]=(0,i.useState)(""),[j,_]=(0,i.useState)(""),[Z,C]=(0,i.useState)(!1),[S,b]=(0,i.useState)(""),[z,y]=(0,i.useState)(!1),{store:E}=(0,i.useContext)(v.Context);async function N(){if(_(""),!S){g("Password field cannot be empty!");return}if(S.length<6){g("Password must contain at least 6 characters!");return}if(confirm("Are you sure you want to change admin password?")){g(""),y(!0);let e=await E.updatePasswordAdmin(S);if(!e){_("Error: Server error!"),y(!1);return}s("Success: Admin password successfully changed!"),t(!1)}}return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:n().wrapper,children:(0,r.jsxs)("form",{autoComplete:"off",className:n().form,children:[(0,r.jsx)("h2",{children:"Change Admin Password"}),(0,r.jsxs)(l.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,r.jsx)(o.Z,{error:!!a,children:"Password"}),(0,r.jsx)(u.Z,{onInput:e=>b(e.target.value),type:Z?"text":"password",autoComplete:"new-password",error:!!a,endAdornment:(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(c.Z,{"aria-label":"toggle password visibility",onClick:()=>Z?C(!1):C(!0),onMouseDown:e=>e.preventDefault(),edge:"end",children:Z?(0,r.jsx)(x.Z,{}):(0,r.jsx)(f.Z,{})})}),label:"Password"}),(0,r.jsx)(m.Z,{error:!!a,variant:"outlined",children:a||"Enter user password"})]}),(0,r.jsxs)("div",{className:n().buttons,children:[(0,r.jsx)(c.Z,{onClick:N,disabled:z,size:"small",title:"Accept",children:z?(0,r.jsx)(w.Z,{size:20,sx:{color:"#777777"}}):(0,r.jsx)(p.Z,{sx:{color:"green"}})}),(0,r.jsx)(c.Z,{onClick:()=>t(!1),size:"small",title:"Cancel",children:(0,r.jsx)(h.Z,{sx:{color:"red"}})})]}),j&&(0,r.jsx)("p",{className:n().error,children:j})]})})})}},5424:function(e){e.exports={wrapper:"adminSetting_wrapper__og8Tl",save:"adminSetting_save__QBV9J",setting:"adminSetting_setting__05pN9"}},6766:function(e){e.exports={wrapper:"changePasswordForm_wrapper__LYGRw",form:"changePasswordForm_form__RRzAG",buttons:"changePasswordForm_buttons__COUE8",error:"changePasswordForm_error__phLWF"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4469)}),_N_E=e.O()}]);