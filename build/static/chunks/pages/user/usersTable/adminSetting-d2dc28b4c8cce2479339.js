(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{4179:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var s=n(t(4938)),a=t(5893),i=(0,s.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");r.Z=i},3397:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var s=n(t(4938)),a=t(5893),i=(0,s.default)((0,a.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");r.Z=i},6091:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var s=n(t(4938)),a=t(5893),i=(0,s.default)((0,a.jsx)("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");r.Z=i},332:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var s=n(t(4938)),a=t(5893),i=(0,s.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined");r.Z=i},7239:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(266),s=t(809),a=t.n(s),i=t(5564),o=t.n(i),u=t(7294),c=t(7347),l=t(899),d=t(4829),p=t(332),x=t(6091),f=t(6867),m=t(1163),h=t(5893);function v(e){var r=e.logging,t=(0,m.useRouter)();(0,u.useEffect)((function(){var e;S(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.email)}),[]);var s=(0,u.useRef)(null),i=(0,u.useContext)(c.Context).store,v=(0,u.useState)(!1),w=v[0],g=v[1],j=(0,u.useState)(""),_=j[0],b=j[1],Z=(0,u.useState)(""),C=Z[0],S=Z[1],k=(0,u.useState)(!1),y=k[0],z=k[1],N=(0,u.useState)(!1),E=N[0],P=N[1];function A(){s.current.value=C,z(!1)}function M(){return(M=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),!confirm("Are you sure you want to change the admin mail?When you change your email you will be logged out!")){e.next=14;break}return e.next=4,i.updateEmailAdmin(_);case 4:if(e.sent){e.next=11;break}return z(!1),P(!1),A(),r("Error: Server error!"),e.abrupt("return");case 11:return e.next=13,i.logout();case 13:t.push("/");case 14:P(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:o().wrapper,children:[(0,h.jsx)("h3",{children:"Administrator Setting"}),(0,h.jsxs)("form",{className:o().setting,children:[(0,h.jsx)("p",{children:"E-mail administrator"}),(0,h.jsx)("input",{ref:s,name:"E-mail administrator",defaultValue:C,placeholder:"Enter E-mail",type:"email",onInput:function(e){return function(e){b(e.target.value),e.target.value!==e.target.defaultValue?z(!0):z(!1)}(e)}}),y?(0,h.jsx)("div",{className:o().save,children:(0,h.jsx)(f.Z,{disabled:E,onClick:function(){return M.apply(this,arguments)},title:"Save edit",sx:{p:"5px",color:"rgb(231 14 55)"},"aria-label":"Save",children:(0,h.jsx)(p.Z,{sx:{width:"20px",height:"20px"}})})}):null,y?(0,h.jsx)("div",{className:o().save,name:"reset",children:(0,h.jsx)(f.Z,{disabled:E,onClick:A,sx:{bgcolor:"rgb(44, 44, 44)",p:"5px"},children:(0,h.jsx)(x.Z,{sx:{width:"20px",height:"20px",fill:"white"}})})}):null,(0,h.jsx)("button",{name:"password",type:"button",className:o().password,onClick:function(e){g(!w)},children:"change admin password"})]}),w&&(0,h.jsx)(l.Z,{selector:"#portal",children:(0,h.jsx)(d.default,{setAdminPasswordForm:g,logging:r})})]})}},4829:function(e,r,t){"use strict";t.r(r);var n=t(266),s=t(809),a=t.n(s),i=t(5471),o=t.n(i),u=t(7294),c=t(6446),l=t(7666),d=t(3031),p=t(270),x=t(6867),f=t(3460),m=t(3397),h=t(4179),v=t(5697),w=t(2186),g=t(7347),j=t(9062),_=t(5893);r.default=function(e){var r=e.setAdminPasswordForm,t=e.logging,s=(0,u.useState)(""),i=s[0],b=s[1],Z=(0,u.useState)(""),C=Z[0],S=Z[1],k=(0,u.useState)(!1),y=k[0],z=k[1],N=(0,u.useState)(""),E=N[0],P=N[1],A=(0,u.useState)(!1),M=A[0],F=A[1],O=(0,u.useContext)(g.Context).store;function L(){return(L=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(""),E){e.next=4;break}return b("Password field cannot be empty!"),e.abrupt("return");case 4:if(!(E.length<6)){e.next=7;break}return b("Password must contain at least 6 characters!"),e.abrupt("return");case 7:if(!confirm("Are you sure you want to change admin password?")){e.next=19;break}return b(""),F(!0),e.next=12,O.updatePasswordAdmin(E);case 12:if(e.sent){e.next=17;break}return S("Error: Server error!"),F(!1),e.abrupt("return");case 17:t("Success: Admin password successfully changed!"),r(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:o().wrapper,children:(0,_.jsxs)("form",{autoComplete:"off",className:o().form,children:[(0,_.jsx)("h2",{children:"Change Admin Password"}),(0,_.jsxs)(c.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,_.jsx)(l.Z,{error:!!i,children:"Password"}),(0,_.jsx)(d.Z,{onInput:function(e){return P(e.target.value)},type:y?"text":"password",autoComplete:"new-password",error:!!i,endAdornment:(0,_.jsx)(p.Z,{position:"end",children:(0,_.jsx)(x.Z,{"aria-label":"toggle password visibility",onClick:function(){return z(!y)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:y?(0,_.jsx)(v.Z,{}):(0,_.jsx)(w.Z,{})})}),label:"Password"}),(0,_.jsx)(f.Z,{error:!!i,variant:"outlined",children:i||"Enter user password"})]}),(0,_.jsxs)("div",{className:o().buttons,children:[(0,_.jsx)(x.Z,{onClick:function(){return L.apply(this,arguments)},disabled:M,size:"small",title:"Accept",children:M?(0,_.jsx)(j.Z,{size:20,sx:{color:"#777777"}}):(0,_.jsx)(h.Z,{sx:{color:"green"}})}),(0,_.jsx)(x.Z,{onClick:function(){return r(!1)},size:"small",title:"Cancel",children:(0,_.jsx)(m.Z,{sx:{color:"red"}})})]}),C&&(0,_.jsx)("p",{className:o().error,children:C})]})})})}},7789:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/usersTable/adminSetting",function(){return t(7239)}])},5564:function(e){e.exports={wrapper:"adminSetting_wrapper__3Jjz3",save:"adminSetting_save__3OMf6",setting:"adminSetting_setting__1n6_U"}},5471:function(e){e.exports={wrapper:"changePasswordForm_wrapper__2M3FH",form:"changePasswordForm_form__2rB6p",buttons:"changePasswordForm_buttons__2RkoX",error:"changePasswordForm_error__2iwNw"}}},function(e){e.O(0,[774,888,179],(function(){return r=7789,e(e.s=r);var r}));var r=e.O();_N_E=r}]);