(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{4179:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),s=r(5893),l=(0,n.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");t.Z=l},3397:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),s=r(5893),l=(0,n.default)((0,s.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");t.Z=l},7312:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),s=r(5893),l=(0,n.default)((0,s.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");t.Z=l},3999:function(e,t){"use strict";var r=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e||e.length>254||!r.test(e))return!1;var t=e.split("@");return!(t[0].length>64||t[1].split(".").some(function(e){return e.length>63}))}},3101:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/usersTable/createUser",function(){return r(598)}])},598:function(e,t,r){"use strict";r.r(t);var a=r(5893),n=r(1702),s=r.n(n),l=r(6097),i=r(3946),u=r(4054),o=r(3841),c=r(7058),d=r(7109),m=r(6815),p=r(3397),f=r(4179),x=r(8456),h=r(3999),v=r(7294),g=r(5697),Z=r(2186),j=r(7312),_=r(2762),w=r(6670);t.default=(0,w.Pi)(function(e){let{setCreateForm:t,getUsers:r,logging:n,table:w,currentPage:C}=e,{store:z}=(0,v.useContext)(_.Context),S=(0,v.useRef)(null),[b,y]=(0,v.useState)(""),[A,E]=(0,v.useState)(""),[D,U]=(0,v.useState)(""),[I,N]=(0,v.useState)(""),[k,M]=(0,v.useState)(""),[T,P]=(0,v.useState)(!1),[q,L]=(0,v.useState)(""),[R,O]=(0,v.useState)(""),[B,V]=(0,v.useState)(""),[F,$]=(0,v.useState)(""),[G,X]=(0,v.useState)(!1);async function H(){let e=Array.from(w.current.querySelectorAll("input[name='userid']")).map(e=>e.defaultValue),a=Array.from(w.current.querySelectorAll("input[name='email']")).map(e=>e.defaultValue);if(L(""),V(""),O(""),$(""),!b){L("User ID field cannot be empty!");return}if(b.length<6){L("The number of digits in the User ID must not be less than 6!");return}if(e.includes(b)){L("User with this ID already exists!");return}if(!A){V("Email field cannot be empty!");return}if(A&&!h.validate(A)){V("The email address format is incorrect!");return}if(a.includes(A)){V("User with this E-Mail already exists!");return}if(!D){O("Password field cannot be empty!");return}if(D.length<3){O("Password cannot be less than 3!");return}X(!0);let s=await z.createUser(b,A,D,I,k);if("string"==typeof s)return $(s);if(!s){$("Error: Server error!"),X(!1);return}n("Success: User with ID:".concat(s.data.userid," and E-Mail:").concat(s.data.email," has been successfully created!")),await r(C),t(!1)}return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:s().wrapper,children:(0,a.jsxs)("form",{autoComplete:"off",className:s().form,children:[(0,a.jsx)("h2",{children:"Create User Form"}),(0,a.jsx)(l.Z,{ref:S,onInput:e=>{e.target.value=e.target.value.replace(/[^\d.]/g,""),y(e.target.value)},error:!!q,inputProps:{maxLength:6},autoComplete:"userid",required:!0,name:"userid",helperText:q||"Enter user ID",sx:{marginBottom:"15px"},size:"small",label:"User ID",value:b||"",variant:"outlined"}),(0,a.jsx)(l.Z,{onInput:e=>E(e.target.value),error:!!B,autoComplete:"email",name:"email",required:!0,helperText:B||"Enter user e-mail",sx:{position:"relative",marginBottom:"15px"},size:"small",label:"E-Mail",variant:"outlined"}),(0,a.jsx)(i.Z,{sx:{position:"absolute",padding:"4px",right:"42px",top:"55px"},onClick:function(){let e=Array.from(w.current.querySelectorAll("input[name='userid']")).map(e=>e.defaultValue),t=1;for(let r=0;r<9;r++){if(t!==+e[r]){let e=t.toString().length;y("0".repeat(6-e)+t);return}t+=1}},onMouseDown:e=>e.preventDefault(),edge:"end",title:"Generate unique ID",children:(0,a.jsx)(j.Z,{})}),(0,a.jsxs)(u.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,a.jsx)(o.Z,{children:"Password"}),(0,a.jsx)(c.Z,{sx:{paddingRight:"4px"},onInput:e=>U(e.target.value),type:T?"text":"password",error:!!R,endAdornment:(0,a.jsx)(d.Z,{position:"end",children:(0,a.jsx)(i.Z,{sx:{padding:"4px",marginRight:0},onClick:()=>T?P(!1):P(!0),onMouseDown:e=>e.preventDefault(),edge:"end",children:T?(0,a.jsx)(g.Z,{}):(0,a.jsx)(Z.Z,{})})}),label:"Password"}),(0,a.jsx)(m.Z,{error:!!R,variant:"outlined",children:R||"Enter user password"})]}),(0,a.jsx)(l.Z,{onInput:e=>N(e.target.value),autoComplete:"name",name:"name",helperText:"Enter user name",sx:{marginBottom:"15px"},size:"small",label:"Name",variant:"outlined"}),(0,a.jsx)(l.Z,{onInput:e=>M(e.target.value),autoComplete:"none",name:"surname",helperText:"Enter user surname",size:"small",label:"Surname",variant:"outlined"}),(0,a.jsxs)("div",{className:s().buttons,children:[(0,a.jsx)(i.Z,{disabled:G,size:"small",title:"Accept",onClick:H,children:G?(0,a.jsx)(x.Z,{size:20,sx:{color:"#777777"}}):(0,a.jsx)(f.Z,{sx:{color:"green"}})}),(0,a.jsx)(i.Z,{size:"small",title:"Cancel",onClick:()=>t(!1),children:(0,a.jsx)(p.Z,{sx:{color:"red"}})})]}),F&&(0,a.jsx)("p",{className:s().error,children:F})]})})})})},1702:function(e){e.exports={wrapper:"createUser_wrapper__oGd8m",form:"createUser_form__AQSN_",buttons:"createUser_buttons__eRsww",error:"createUser_error__5wjVH"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3101)}),_N_E=e.O()}]);