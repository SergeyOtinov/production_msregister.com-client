(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{4179:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),u=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");r.Z=u},3397:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),u=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");r.Z=u},7312:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),u=(0,a.default)((0,s.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");r.Z=u},3999:function(e,r){"use strict";var t=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;r.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!t.test(e))return!1;var r=e.split("@");return!(r[0].length>64)&&!r[1].split(".").some((function(e){return e.length>63}))}},1271:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),u=t(1185),i=t.n(u),l=t(8067),o=t(6867),c=t(6446),d=t(7666),p=t(3031),f=t(270),m=t(3460),x=t(3397),h=t(4179),v=t(9062),b=t(3999),g=t(7294),Z=t(5697),j=t(2186),_=t(7312),C=t(7347),z=t(2766),w=t(5893);r.default=(0,z.Pi)((function(e){var r=e.setCreateForm,t=e.getUsers,a=e.logging,u=e.table,z=e.currentPage,S=(0,g.useContext)(C.Context).store,k=(0,g.useRef)(null),y=(0,g.useState)(""),A=y[0],E=y[1],D=(0,g.useState)(""),U=D[0],I=D[1],N=(0,g.useState)(""),M=N[0],P=N[1],T=(0,g.useState)(""),O=T[0],q=T[1],L=(0,g.useState)(""),F=L[0],R=L[1],B=(0,g.useState)(!1),V=B[0],$=B[1],X=(0,g.useState)(""),G=X[0],H=X[1],J=(0,g.useState)(""),K=J[0],Q=J[1],W=(0,g.useState)(""),Y=W[0],ee=W[1],re=(0,g.useState)(""),te=re[0],ne=re[1],ae=(0,g.useState)(!1),se=ae[0],ue=ae[1];function ie(){return(ie=(0,n.Z)(s().mark((function e(){var n,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.from(u.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),i=Array.from(u.current.querySelectorAll("input[name='email']")).map((function(e){return e.defaultValue})),H(""),ee(""),Q(""),ne(""),A){e.next=9;break}return H("User ID field cannot be empty!"),e.abrupt("return");case 9:if(!(A.length<6)){e.next=12;break}return H("The number of digits in the User ID must not be less than 6!"),e.abrupt("return");case 12:if(!n.includes(A)){e.next=15;break}return H("User with this ID already exists!"),e.abrupt("return");case 15:if(U){e.next=18;break}return ee("Email field cannot be empty!"),e.abrupt("return");case 18:if(!U){e.next=22;break}if(b.validate(U)){e.next=22;break}return ee("The email address format is incorrect!"),e.abrupt("return");case 22:if(!i.includes(U)){e.next=25;break}return ee("User with this E-Mail already exists!"),e.abrupt("return");case 25:if(M){e.next=28;break}return Q("Password field cannot be empty!"),e.abrupt("return");case 28:if(!(M.length<3)){e.next=31;break}return Q("Password cannot be less than 3!"),e.abrupt("return");case 31:return ue(!0),e.next=34,S.createUser(A,U,M,O,F);case 34:if("string"!==typeof(l=e.sent)){e.next=37;break}return e.abrupt("return",ne(l));case 37:if(l){e.next=41;break}return ne("Error: Server error!"),ue(!1),e.abrupt("return");case 41:return a("Success: User with ID:".concat(l.data.userid," and E-Mail:").concat(l.data.email," has been successfully created!")),e.next=44,t(z);case 44:r(!1);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:i().wrapper,children:(0,w.jsxs)("form",{autoComplete:"off",className:i().form,children:[(0,w.jsx)("h2",{children:"Create User Form"}),(0,w.jsx)(l.Z,{ref:k,onInput:function(e){e.target.value=e.target.value.replace(/[^\d.]/g,""),E(e.target.value)},error:!!G,inputProps:{maxLength:6},autoComplete:"userid",required:!0,name:"userid",helperText:G||"Enter user ID",sx:{marginBottom:"15px"},size:"small",label:"User ID",value:A||"",variant:"outlined"}),(0,w.jsx)(l.Z,{onInput:function(e){return I(e.target.value)},error:!!Y,autoComplete:"email",name:"email",required:!0,helperText:Y||"Enter user e-mail",sx:{position:"relative",marginBottom:"15px"},size:"small",label:"E-Mail",variant:"outlined"}),(0,w.jsx)(o.Z,{sx:{position:"absolute",padding:"4px",right:"42px",top:"55px"},onClick:function(){for(var e=Array.from(u.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),r=1,t=0;t<9;t++){if(r!==+e[t]){var n=r.toString().length,a="0".repeat(6-n);return void E(a+r)}r+=1}},onMouseDown:function(e){return e.preventDefault()},edge:"end",title:"Generate unique ID",children:(0,w.jsx)(_.Z,{})}),(0,w.jsxs)(c.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,w.jsx)(d.Z,{children:"Password"}),(0,w.jsx)(p.Z,{sx:{paddingRight:"4px"},onInput:function(e){return P(e.target.value)},type:V?"text":"password",error:!!K,endAdornment:(0,w.jsx)(f.Z,{position:"end",children:(0,w.jsx)(o.Z,{sx:{padding:"4px",marginRight:0},onClick:function(){return $(!V)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:V?(0,w.jsx)(Z.Z,{}):(0,w.jsx)(j.Z,{})})}),label:"Password"}),(0,w.jsx)(m.Z,{error:!!K,variant:"outlined",children:K||"Enter user password"})]}),(0,w.jsx)(l.Z,{onInput:function(e){return q(e.target.value)},autoComplete:"name",name:"name",helperText:"Enter user name",sx:{marginBottom:"15px"},size:"small",label:"Name",variant:"outlined"}),(0,w.jsx)(l.Z,{onInput:function(e){return R(e.target.value)},autoComplete:"none",name:"surname",helperText:"Enter user surname",size:"small",label:"Surname",variant:"outlined"}),(0,w.jsxs)("div",{className:i().buttons,children:[(0,w.jsx)(o.Z,{disabled:se,size:"small",title:"Accept",onClick:function(){return ie.apply(this,arguments)},children:se?(0,w.jsx)(v.Z,{size:20,sx:{color:"#777777"}}):(0,w.jsx)(h.Z,{sx:{color:"green"}})}),(0,w.jsx)(o.Z,{size:"small",title:"Cancel",onClick:function(){return r(!1)},children:(0,w.jsx)(x.Z,{sx:{color:"red"}})})]}),te&&(0,w.jsx)("p",{className:i().error,children:te})]})})})}))},3081:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/usersTable/createUser",function(){return t(1271)}])},1185:function(e){e.exports={wrapper:"createUser_wrapper__1d5V0",form:"createUser_form__z7FlO",buttons:"createUser_buttons__1OsSD",error:"createUser_error__1g0cZ"}}},function(e){e.O(0,[774,888,179],(function(){return r=3081,e(e.s=r);var r}));var r=e.O();_N_E=r}]);