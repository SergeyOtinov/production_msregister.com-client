(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{1687:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");r.Z=i},4179:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlineOutlined");r.Z=i},3397:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturbAltOutlined");r.Z=i},7957:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=i},9829:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");r.Z=i},7312:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");r.Z=i},6091:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");r.Z=i},332:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),s=t(5893),i=(0,a.default)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined");r.Z=i},3999:function(e,r){"use strict";var t=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;r.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!t.test(e))return!1;var r=e.split("@");return!(r[0].length>64)&&!r[1].split(".").some((function(e){return e.length>63}))}},7239:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var n=t(266),a=t(809),s=t.n(a),i=t(5564),u=t.n(i),o=t(7294),l=t(7347),c=t(899),d=t(4829),p=t(332),f=t(6091),m=t(6867),x=t(1163),h=t(5893);function g(e){var r=e.logging,t=(0,x.useRouter)();(0,o.useEffect)((function(){var e;S(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.email)}),[]);var a=(0,o.useRef)(null),i=(0,o.useContext)(l.Context).store,g=(0,o.useState)(!1),v=g[0],b=g[1],j=(0,o.useState)(""),w=j[0],y=j[1],_=(0,o.useState)(""),Z=_[0],S=_[1],k=(0,o.useState)(!1),C=k[0],A=k[1],N=(0,o.useState)(!1),z=N[0],E=N[1];function I(){a.current.value=Z,A(!1)}function T(){return(T=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),!confirm("Are you sure you want to change the admin mail?When you change your email you will be logged out!")){e.next=14;break}return e.next=4,i.updateEmailAdmin(w);case 4:if(e.sent){e.next=11;break}return A(!1),E(!1),I(),r("Error: Server error!"),e.abrupt("return");case 11:return e.next=13,i.logout();case 13:t.push("/");case 14:E(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:u().wrapper,children:[(0,h.jsx)("h3",{children:"Administrator Setting"}),(0,h.jsxs)("form",{className:u().setting,children:[(0,h.jsx)("p",{children:"E-mail administrator"}),(0,h.jsx)("input",{ref:a,name:"E-mail administrator",defaultValue:Z,placeholder:"Enter E-mail",type:"email",onInput:function(e){return function(e){y(e.target.value),e.target.value!==e.target.defaultValue?A(!0):A(!1)}(e)}}),C?(0,h.jsx)("div",{className:u().save,children:(0,h.jsx)(m.Z,{disabled:z,onClick:function(){return T.apply(this,arguments)},title:"Save edit",sx:{p:"5px",color:"rgb(231 14 55)"},"aria-label":"Save",children:(0,h.jsx)(p.Z,{sx:{width:"20px",height:"20px"}})})}):null,C?(0,h.jsx)("div",{className:u().save,name:"reset",children:(0,h.jsx)(m.Z,{disabled:z,onClick:I,sx:{bgcolor:"rgb(44, 44, 44)",p:"5px"},children:(0,h.jsx)(f.Z,{sx:{width:"20px",height:"20px",fill:"white"}})})}):null,(0,h.jsx)("button",{name:"password",type:"button",className:u().password,onClick:function(e){b(!v)},children:"change admin password"})]}),v&&(0,h.jsx)(c.Z,{selector:"#portal",children:(0,h.jsx)(d.default,{setAdminPasswordForm:b,logging:r})})]})}},4829:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),i=t(5471),u=t.n(i),o=t(7294),l=t(6446),c=t(7666),d=t(3031),p=t(270),f=t(6867),m=t(3460),x=t(3397),h=t(4179),g=t(5697),v=t(2186),b=t(7347),j=t(9062),w=t(5893);r.default=function(e){var r=e.setAdminPasswordForm,t=e.logging,a=(0,o.useState)(""),i=a[0],y=a[1],_=(0,o.useState)(""),Z=_[0],S=_[1],k=(0,o.useState)(!1),C=k[0],A=k[1],N=(0,o.useState)(""),z=N[0],E=N[1],I=(0,o.useState)(!1),T=I[0],P=I[1],U=(0,o.useContext)(b.Context).store;function F(){return(F=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(""),z){e.next=4;break}return y("Password field cannot be empty!"),e.abrupt("return");case 4:if(!(z.length<6)){e.next=7;break}return y("Password must contain at least 6 characters!"),e.abrupt("return");case 7:if(!confirm("Are you sure you want to change admin password?")){e.next=19;break}return y(""),P(!0),e.next=12,U.updatePasswordAdmin(z);case 12:if(e.sent){e.next=17;break}return S("Error: Server error!"),P(!1),e.abrupt("return");case 17:t("Success: Admin password successfully changed!"),r(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:u().wrapper,children:(0,w.jsxs)("form",{autoComplete:"off",className:u().form,children:[(0,w.jsx)("h2",{children:"Change Admin Password"}),(0,w.jsxs)(l.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,w.jsx)(c.Z,{error:!!i,children:"Password"}),(0,w.jsx)(d.Z,{onInput:function(e){return E(e.target.value)},type:C?"text":"password",autoComplete:"new-password",error:!!i,endAdornment:(0,w.jsx)(p.Z,{position:"end",children:(0,w.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:function(){return A(!C)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:C?(0,w.jsx)(g.Z,{}):(0,w.jsx)(v.Z,{})})}),label:"Password"}),(0,w.jsx)(m.Z,{error:!!i,variant:"outlined",children:i||"Enter user password"})]}),(0,w.jsxs)("div",{className:u().buttons,children:[(0,w.jsx)(f.Z,{onClick:function(){return F.apply(this,arguments)},disabled:T,size:"small",title:"Accept",children:T?(0,w.jsx)(j.Z,{size:20,sx:{color:"#777777"}}):(0,w.jsx)(h.Z,{sx:{color:"green"}})}),(0,w.jsx)(f.Z,{onClick:function(){return r(!1)},size:"small",title:"Cancel",children:(0,w.jsx)(x.Z,{sx:{color:"red"}})})]}),Z&&(0,w.jsx)("p",{className:u().error,children:Z})]})})})}},6525:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),i=t(5471),u=t.n(i),o=t(3397),l=t(4179),c=t(9062),d=t(7294),p=t(6446),f=t(7666),m=t(3031),x=t(270),h=t(6867),g=t(3460),v=t(5697),b=t(2186),j=t(7347),w=t(5893);r.default=function(e){var r=e.setPasswordForm,t=e.passwordId,a=e.logging,i=(0,d.useState)(""),y=i[0],_=i[1],Z=(0,d.useState)(""),S=Z[0],k=Z[1],C=(0,d.useState)(!1),A=C[0],N=C[1],z=(0,d.useState)(!1),E=z[0],I=z[1],T=(0,d.useState)(""),P=T[0],U=T[1],F=(0,d.useContext)(j.Context).store;function D(){return(D=(0,n.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=3;break}return _("Password field cannot be empty!"),e.abrupt("return");case 3:if(!(P.length<3)){e.next=6;break}return _("Password must contain at least 3 characters!"),e.abrupt("return");case 6:if(!confirm("Are you sure you want to save this user password?")){e.next=18;break}return _(""),N(!0),e.next=11,F.updatePasswordUser(t,P);case 11:if(n=e.sent){e.next=16;break}return k("Error: Server error!"),N(!1),e.abrupt("return");case 16:a("Success: User with ID:".concat(n.data.userid," and E-mail:").concat(n.data.email," successfully changed password!")),r(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:u().wrapper,children:(0,w.jsxs)("form",{autoComplete:"off",className:u().form,children:[(0,w.jsx)("h2",{children:"Change Password Form"}),(0,w.jsxs)(p.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,w.jsx)(f.Z,{error:!!y,children:"Password"}),(0,w.jsx)(m.Z,{onInput:function(e){return U(e.target.value)},type:E?"text":"password",error:!!y,endAdornment:(0,w.jsx)(x.Z,{position:"end",children:(0,w.jsx)(h.Z,{"aria-label":"toggle password visibility",onClick:function(){return I(!E)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:E?(0,w.jsx)(v.Z,{}):(0,w.jsx)(b.Z,{})})}),label:"Password"}),(0,w.jsx)(g.Z,{error:!!y,variant:"outlined",children:y||"Enter user password"})]}),(0,w.jsxs)("div",{className:u().buttons,children:[(0,w.jsx)(h.Z,{onClick:function(){return D.apply(this,arguments)},disabled:A,size:"small",title:"Accept",children:A?(0,w.jsx)(c.Z,{size:20,sx:{color:"#777777"}}):(0,w.jsx)(l.Z,{sx:{color:"green"}})}),(0,w.jsx)(h.Z,{onClick:function(){return r(!1)},size:"small",title:"Cancel",children:(0,w.jsx)(o.Z,{sx:{color:"red"}})})]}),S&&(0,w.jsx)("p",{className:u().error,children:S})]})})})}},1271:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),i=t(1185),u=t.n(i),o=t(8067),l=t(6867),c=t(6446),d=t(7666),p=t(3031),f=t(270),m=t(3460),x=t(3397),h=t(4179),g=t(9062),v=t(3999),b=t(7294),j=t(5697),w=t(2186),y=t(7312),_=t(7347),Z=t(2766),S=t(5893);r.default=(0,Z.Pi)((function(e){var r=e.setCreateForm,t=e.getUsers,a=e.logging,i=e.table,Z=e.currentPage,k=(0,b.useContext)(_.Context).store,C=(0,b.useRef)(null),A=(0,b.useState)(""),N=A[0],z=A[1],E=(0,b.useState)(""),I=E[0],T=E[1],P=(0,b.useState)(""),U=P[0],F=P[1],D=(0,b.useState)(""),M=D[0],V=D[1],L=(0,b.useState)(""),B=L[0],O=L[1],q=(0,b.useState)(!1),R=q[0],H=q[1],W=(0,b.useState)(""),$=W[0],G=W[1],J=(0,b.useState)(""),X=J[0],K=J[1],Q=(0,b.useState)(""),Y=Q[0],ee=Q[1],re=(0,b.useState)(""),te=re[0],ne=re[1],ae=(0,b.useState)(!1),se=ae[0],ie=ae[1];function ue(){return(ue=(0,n.Z)(s().mark((function e(){var n,u,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.from(i.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),u=Array.from(i.current.querySelectorAll("input[name='email']")).map((function(e){return e.defaultValue})),G(""),ee(""),K(""),ne(""),N){e.next=9;break}return G("User ID field cannot be empty!"),e.abrupt("return");case 9:if(!(N.length<6)){e.next=12;break}return G("The number of digits in the User ID must not be less than 6!"),e.abrupt("return");case 12:if(!n.includes(N)){e.next=15;break}return G("User with this ID already exists!"),e.abrupt("return");case 15:if(I){e.next=18;break}return ee("Email field cannot be empty!"),e.abrupt("return");case 18:if(!I){e.next=22;break}if(v.validate(I)){e.next=22;break}return ee("The email address format is incorrect!"),e.abrupt("return");case 22:if(!u.includes(I)){e.next=25;break}return ee("User with this E-Mail already exists!"),e.abrupt("return");case 25:if(U){e.next=28;break}return K("Password field cannot be empty!"),e.abrupt("return");case 28:if(!(U.length<3)){e.next=31;break}return K("Password cannot be less than 3!"),e.abrupt("return");case 31:return ie(!0),e.next=34,k.createUser(N,I,U,M,B);case 34:if("string"!==typeof(o=e.sent)){e.next=37;break}return e.abrupt("return",ne(o));case 37:if(o){e.next=41;break}return ne("Error: Server error!"),ie(!1),e.abrupt("return");case 41:return a("Success: User with ID:".concat(o.data.userid," and E-Mail:").concat(o.data.email," has been successfully created!")),e.next=44,t(Z);case 44:r(!1);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:u().wrapper,children:(0,S.jsxs)("form",{autoComplete:"off",className:u().form,children:[(0,S.jsx)("h2",{children:"Create User Form"}),(0,S.jsx)(o.Z,{ref:C,onInput:function(e){e.target.value=e.target.value.replace(/[^\d.]/g,""),z(e.target.value)},error:!!$,inputProps:{maxLength:6},autoComplete:"userid",required:!0,name:"userid",helperText:$||"Enter user ID",sx:{marginBottom:"15px"},size:"small",label:"User ID",value:N||"",variant:"outlined"}),(0,S.jsx)(o.Z,{onInput:function(e){return T(e.target.value)},error:!!Y,autoComplete:"email",name:"email",required:!0,helperText:Y||"Enter user e-mail",sx:{position:"relative",marginBottom:"15px"},size:"small",label:"E-Mail",variant:"outlined"}),(0,S.jsx)(l.Z,{sx:{position:"absolute",padding:"4px",right:"42px",top:"55px"},onClick:function(){for(var e=Array.from(i.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),r=1,t=0;t<9;t++){if(r!==+e[t]){var n=r.toString().length,a="0".repeat(6-n);return void z(a+r)}r+=1}},onMouseDown:function(e){return e.preventDefault()},edge:"end",title:"Generate unique ID",children:(0,S.jsx)(y.Z,{})}),(0,S.jsxs)(c.Z,{size:"small",sx:{marginBottom:"15px"},variant:"outlined",children:[(0,S.jsx)(d.Z,{children:"Password"}),(0,S.jsx)(p.Z,{sx:{paddingRight:"4px"},onInput:function(e){return F(e.target.value)},type:R?"text":"password",error:!!X,endAdornment:(0,S.jsx)(f.Z,{position:"end",children:(0,S.jsx)(l.Z,{sx:{padding:"4px",marginRight:0},onClick:function(){return H(!R)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:R?(0,S.jsx)(j.Z,{}):(0,S.jsx)(w.Z,{})})}),label:"Password"}),(0,S.jsx)(m.Z,{error:!!X,variant:"outlined",children:X||"Enter user password"})]}),(0,S.jsx)(o.Z,{onInput:function(e){return V(e.target.value)},autoComplete:"name",name:"name",helperText:"Enter user name",sx:{marginBottom:"15px"},size:"small",label:"Name",variant:"outlined"}),(0,S.jsx)(o.Z,{onInput:function(e){return O(e.target.value)},autoComplete:"none",name:"surname",helperText:"Enter user surname",size:"small",label:"Surname",variant:"outlined"}),(0,S.jsxs)("div",{className:u().buttons,children:[(0,S.jsx)(l.Z,{disabled:se,size:"small",title:"Accept",onClick:function(){return ue.apply(this,arguments)},children:se?(0,S.jsx)(g.Z,{size:20,sx:{color:"#777777"}}):(0,S.jsx)(h.Z,{sx:{color:"green"}})}),(0,S.jsx)(l.Z,{size:"small",title:"Cancel",onClick:function(){return r(!1)},children:(0,S.jsx)(x.Z,{sx:{color:"red"}})})]}),te&&(0,S.jsx)("p",{className:u().error,children:te})]})})})}))},8461:function(e,r,t){"use strict";function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function a(e,r){if(e){if("string"===typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,s=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);i=!0);}catch(o){u=!0,a=o}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return s}}(e,r)||a(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(r),t.d(r,{default:function(){return P}});var i=t(266);function u(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=t(809),l=t.n(o),c=t(170),d=t.n(c),p=t(899),f=t(1271),m=t(6525),x=t(9829),h=t(1687),g=t(332),v=t(6091),b=t(7957),j=t(3999),w=t(8452),y=t(7239),_=t(6867),Z=t(6914),S=t(4345),k=t(5974),C=t(8949),A=t(7347),N=t(7294),z=t(2766),E=t(5893),I=["\u2116","User ID","E-Mail","Password","Name","Surname"],T=(0,S.Z)({components:{MuiIconButton:{styleOverrides:{root:{"&":{backgroundColor:"transparent"},"&:hover":{backgroundColor:"#ffffff98"}}}}}});var P=(0,z.Pi)((function(){var e=(0,N.useState)(""),r=e[0],t=e[1],n=(0,N.useState)([]),a=n[0],o=n[1],c=(0,N.useState)(1),S=c[0],z=c[1],P=(0,N.useState)(!1),U=P[0],F=P[1],D=(0,N.useState)(!1),M=D[0],V=D[1];(0,N.useEffect)((function(){oe()}),[]);for(var L=[],B=0;B<r;B++)L.push(0);var O=(0,N.useRef)(null),q=(0,N.useRef)(null),R=(0,N.useContext)(A.Context).store,H=(0,N.useState)([]),W=H[0],$=H[1],G=(0,N.useState)(!1),J=G[0],X=G[1],K=(0,N.useState)(!1),Q=K[0],Y=K[1],ee=(0,N.useState)(!1),re=ee[0],te=ee[1],ne=(0,N.useState)(""),ae=ne[0],se=ne[1];function ie(e){var r=e.target.closest("form"),t=r.dataset.order,n=u(W);0!==W.length&&(Array.from(r.getElementsByTagName("input")).some((function(e){return e.value!==e.defaultValue}))?(n[t]=1,$(n)):(n[t]=0,$(n)),n.some((function(e){return 1===e}))?X(!0):X(!1))}function ue(){return(ue=(0,i.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(z(t),oe(t),L=[],n=0;n<r;n++)L.push(0);$(L),X(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return le.apply(this,arguments)}function le(){return(le=(0,i.Z)(l().mark((function e(r){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.fetchUsers(r);case 2:n=e.sent,a=(0,C.ZN)(R.getUsers()),o(a),t(n.length);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=(0,i.Z)(l().mark((function e(r){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(!0),!confirm("Are you sure you want to delete this user?")){e.next=13;break}return t=r.target.closest("form").querySelector('input[name="id"').value,e.next=5,R.deleteUser(t);case 5:if(n=e.sent){e.next=10;break}return fe("Error: Server error!"),V(!1),e.abrupt("return");case 10:fe("Success: ".concat(n)),oe(S),V(!1);case 13:V(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=(0,i.Z)(l().mark((function e(r){var t,n,a,i,u,o,c,d,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Array.from(r.target.closest("form").getElementsByTagName("input")).map((function(e){return e.value})),n=s(t,5),a=n[0],i=n[1],u=n[2],o=n[3],c=n[4],d=Array.from(O.current.querySelectorAll("input[name='userid']")).map((function(e){return e.defaultValue})),p=Array.from(O.current.querySelectorAll("input[name='email']")).map((function(e){return e.defaultValue})),i){e.next=7;break}return fe("Error: User ID field cannot be empty!"),e.abrupt("return");case 7:if(i===r.target.closest("form").querySelector("input[name='userid']").defaultValue){e.next=11;break}if(!d.includes(i)){e.next=11;break}return fe("Error: User with this ID already exists!"),e.abrupt("return");case 11:if(!(i.length<6)){e.next=14;break}return fe("Error: The number of digits in the User ID must not be less than 6!"),e.abrupt("return");case 14:if(u){e.next=17;break}return fe("Error: Email field cannot be empty!"),e.abrupt("return");case 17:if(!u){e.next=21;break}if(j.validate(u)){e.next=21;break}return fe("Error: The email address format is incorrect!"),e.abrupt("return");case 21:if(u===r.target.closest("form").querySelector("input[name='email']").defaultValue){e.next=25;break}if(!p.includes(u)){e.next=25;break}return fe("Error: User with this E-mail already exists!"),e.abrupt("return");case 25:if(F(!0),!confirm("Are you sure you want to save this user?")){e.next=39;break}return e.next=29,R.updateUser(a,i,u,o,c);case 29:if(f=e.sent){e.next=34;break}return fe("Error: Server error!"),F(!1),e.abrupt("return");case 34:return fe("Success: User with ID:".concat(f.data.userid," was successfully updated!")),F(!1),e.next=38,oe(S);case 38:ie(r);case 39:F(!1);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,r){e.target.parentNode.querySelector("svg").style.opacity=r}function fe(e){var r=(new Date).toLocaleTimeString("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});q.current.value+="\n".concat(r,' -> "').concat(e,'"'),q.current.scrollTop=q.current.scrollHeight-q.current.clientHeight}return 0!==L.length&&0===W.length&&$(L),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(k.Z,{theme:T,children:[(0,E.jsx)(y.default,{logging:fe}),(0,E.jsxs)("div",{className:d().wrapper,children:[(0,E.jsxs)("div",{ref:O,className:d().table,children:[(0,E.jsx)("div",{className:d().header,children:I.map((function(e,r){return(0,E.jsx)("div",{className:d().header_item,children:(0,E.jsx)("span",{children:e})},r)}))}),(0,E.jsxs)("div",{className:d().body,children:[a.map((function(e){return(0,E.jsxs)("form",{"data-order":e.table_id-1,className:d().body_row,children:[(0,E.jsxs)("div",{className:d().row_item,children:[(0,E.jsx)("span",{children:e.table_id}),(0,E.jsx)("input",{style:{display:"none"},name:"id",defaultValue:e._id})]}),(0,E.jsxs)("div",{className:d().row_item,children:[(0,E.jsx)("input",{name:"userid",defaultValue:e.userid,maxLength:"6",placeholder:"Enter userID",onFocus:function(e){return pe(e,"1")},onBlur:function(e){return pe(e,"0")},onInput:function(e){return ie(e)}}),(0,E.jsx)("div",{className:d().row_edit,children:(0,E.jsx)(b.Z,{style:{width:"15px",paddingTop:"5px",fill:"#18c7de",opacity:"0"}})})]}),(0,E.jsxs)("div",{className:d().row_item,children:[(0,E.jsx)("input",{name:"email",defaultValue:e.email,placeholder:"Enter E-mail",type:"email",onFocus:function(e){return pe(e,"1")},onBlur:function(e){return pe(e,"0")},onInput:function(e){return ie(e)}}),(0,E.jsx)("div",{className:d().row_edit,children:(0,E.jsx)(b.Z,{style:{width:"15px",paddingTop:"5px",fill:"#18c7de",opacity:"0"}})})]}),(0,E.jsx)("div",{className:d().row_item,children:(0,E.jsx)("button",{type:"button",className:d().password,onClick:function(e){return function(e){var r=e.target.closest("form").querySelector('input[name="id"]').value;se(r),te(!0)}(e)},children:"change password"})}),(0,E.jsxs)("div",{className:d().row_item,children:[(0,E.jsx)("input",{name:"name",maxLength:"20",defaultValue:e.name,placeholder:"Enter user name",onFocus:function(e){return pe(e,"1")},onBlur:function(e){return pe(e,"0")},onInput:function(e){return ie(e)}}),(0,E.jsx)("div",{className:d().row_edit,children:(0,E.jsx)(b.Z,{style:{width:"15px",paddingTop:"5px",fill:"#18c7de",opacity:"0"}})})]}),(0,E.jsxs)("div",{className:d().row_item,children:[(0,E.jsx)("input",{name:"surname",maxLength:"20",defaultValue:e.surname,placeholder:"Enter user surname",onFocus:function(e){return pe(e,"1")},onBlur:function(e){return pe(e,"0")},onInput:function(e){return ie(e)}}),(0,E.jsx)("div",{className:d().row_edit,children:(0,E.jsx)(b.Z,{style:{width:"15px",paddingTop:"5px",fill:"#18c7de",opacity:"0"}})})]}),(0,E.jsx)("div",{className:d().row_delete,children:(0,E.jsx)(_.Z,{disabled:M,onClick:function(e){return function(e){return ce.apply(this,arguments)}(e)},title:"Delete user",sx:{bgcolor:"#ffffff"},color:"error","aria-label":"Add",children:(0,E.jsx)(x.Z,{sx:{width:"20px",height:"20px"}})})}),W[e.table_id-1]?(0,E.jsx)("div",{className:d().row_save,children:(0,E.jsx)(_.Z,{disabled:U,onClick:function(e){return function(e){return de.apply(this,arguments)}(e)},title:"Save edit",sx:{color:"#314633",bgcolor:"transparent"},"aria-label":"Save",children:(0,E.jsx)(g.Z,{sx:{width:"20px",height:"20px"}})})}):null]},e.table_id)})),(0,E.jsx)(w.default,{logging:fe,usersCount:r,pagination:function(e){return ue.apply(this,arguments)}}),(0,E.jsxs)("div",{style:{padding:"4px",display:"flex",alignItems:"center"},children:[(0,E.jsx)(_.Z,{onClick:function(){return Y(!0)},children:(0,E.jsx)(h.Z,{sx:{color:"#0e5deb"}})}),(0,E.jsx)("span",{style:{color:"#0e5deb",fontSize:"16px",display:"inline-block",marginLeft:"5px"},children:"Add user"})]}),Q&&(0,E.jsx)(p.Z,{selector:"#portal",children:(0,E.jsx)(f.default,{setCreateForm:Y,getUsers:oe,logging:fe,table:O,currentPage:S})}),re&&(0,E.jsx)(p.Z,{selector:"#portal",children:(0,E.jsx)(m.default,{logging:fe,passwordId:ae,setPasswordForm:te})}),(0,E.jsx)("div",{className:d().save_btn,children:J&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(Z.Z,{onClick:function(e){return Array.from(O.current.getElementsByTagName("form")).map((function(e){return e.reset()})),$(L),void X(!1)},size:"small",sx:{marginLeft:"15px"},variant:"contained",endIcon:(0,E.jsx)(v.Z,{}),children:"Reset all changes"})})}),(0,E.jsx)("div",{className:d().reset_logger_btn,children:(0,E.jsx)(_.Z,{onClick:function(){return q.current.value="Logging:"},sx:{bgcolor:"rgb(44, 44, 44)",p:"5px"},children:(0,E.jsx)(v.Z,{sx:{fill:"white"}})})})]})]}),(0,E.jsx)("textarea",{ref:q,defaultValue:"Logging:",readOnly:!0,className:d().logging})]})]})})}))},8452:function(e,r,t){"use strict";t.r(r);var n=t(266),a=t(809),s=t.n(a),i=t(9179),u=t.n(i),o=t(9062),l=t(2766),c=t(7294),d=t(7347),p=t(5893);r.default=(0,l.Pi)((function(e){var r,t=e.usersCount,a=e.pagination,i=e.logging,l=(0,c.useState)(1),f=l[0],m=l[1],x=(0,c.useState)(!1),h=x[0],g=x[1],v=(0,c.useContext)(d.Context).store,b=[],j=[];0!==t&&(r=t);for(var w=function(e){b.push((0,p.jsx)("button",{onClick:function(r){return function(e,r){return _.apply(this,arguments)}(r,e)},disabled:f===e,type:"button",style:e<10?{padding:"3px 7px"}:{padding:"3px 4px"},"data-id":e,children:e},e)),j.push((0,p.jsx)(o.Z,{size:20,sx:{color:"#777777",padding:"2px 5px"}},e))},y=1;y<Math.ceil(r/10+1);y++)w(y);function _(){return(_=(0,n.Z)(s().mark((function e(r,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,v.fetchUsers();case 3:if(e.sent){e.next=8;break}return i("Error: Server error!"),g(!1),e.abrupt("return");case 8:t||(i("Error: Server error!"),g(!1)),a(r.target.dataset.id),m(n),g(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:u().pagination,children:h?j:b})})}))},5564:function(e){e.exports={wrapper:"adminSetting_wrapper__3Jjz3",save:"adminSetting_save__3OMf6",setting:"adminSetting_setting__1n6_U"}},5471:function(e){e.exports={wrapper:"changePasswordForm_wrapper__2M3FH",form:"changePasswordForm_form__2rB6p",buttons:"changePasswordForm_buttons__2RkoX",error:"changePasswordForm_error__2iwNw"}},1185:function(e){e.exports={wrapper:"createUser_wrapper__1d5V0",form:"createUser_form__z7FlO",buttons:"createUser_buttons__1OsSD",error:"createUser_error__1g0cZ"}},170:function(e){e.exports={wrapper:"usersTable_wrapper__2MAF5",table:"usersTable_table__3d1gb",header:"usersTable_header__2xG_A",body_row:"usersTable_body_row__2F-lm",header_item:"usersTable_header_item__2ptAN",row_item:"usersTable_row_item__1MM57",row_edit:"usersTable_row_edit__1zCO6",row_delete:"usersTable_row_delete__3T4BR",row_save:"usersTable_row_save__1vWr3",save_btn:"usersTable_save_btn__qcJh0",reset_logger_btn:"usersTable_reset_logger_btn__imd7W",password:"usersTable_password__3Xa-W",error:"usersTable_error__11L21",logging:"usersTable_logging__3KeFn"}},9179:function(e){e.exports={pagination:"usersTablePagination_pagination__Zpekg"}}}]);